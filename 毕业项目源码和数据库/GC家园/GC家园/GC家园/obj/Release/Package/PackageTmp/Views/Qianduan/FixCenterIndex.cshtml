
@{
    ViewBag.Title = "FixCenterIndex";
    Layout = "~/Views/Shared/_LayoutStudentGCHome.cshtml";
}
@using Models
@model PagedList.IPagedList<Fix>
@using PagedList.Mvc;
<style>
    .pagination > li > a, .pagination > li > span {
        position: relative;
        float: left;
        padding: 6px 12px;
        margin-left: -1px;
        line-height: 1.42857143;
        color: #337ab7;
        text-decoration: none;
        background-color: #fff;
        border: 1px solid #ddd;
    }

    .pagination > .active > a, .pagination > .active > a:focus, .pagination > .active > a:hover, .pagination > .active > span, .pagination > .active > span:focus, .pagination > .active > span:hover {
        z-index: 3;
        color: #fff;
        cursor: default;
        background-color: #337ab7;
        border-color: #337ab7;
    }

    .pagination > li:first-child > a, .pagination > li:first-child > span {
        margin-left: 0;
        border-top-left-radius: 4px;
        border-bottom-left-radius: 4px;
    }

    .pagination > li:last-child > a, .pagination > li:last-child > span {
        border-top-right-radius: 4px;
        border-bottom-right-radius: 4px;
    }

    .pagination > li:first-child > a, .pagination > li:first-child > span {
        margin-left: 0;
        border-top-left-radius: 4px;
        border-bottom-left-radius: 4px;
    }
</style>
<div style="width: 80%; margin: 0px auto; margin-bottom: 27.5%">
    <table class="table table-bordered" style="transform:translateY(20px);font-size:smaller">
        <thead class="thead-light">
            <tr>
                <th>学号</th>
                <th>姓名</th>
                <th>位置</th>
                <th>联系方式</th>
                <th>上报原因</th>
                <th>上报时间</th>
                <th>受理状态</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr style="line-height:40px">
                    <td>@item.Student.StuNumber</td>
                    <td>@item.Student.StuName</td>
                    <td>@item.Adress</td>
                    <td>@item.Phone</td>
                    <td>@item.FixReason</td>
                    <td>@string.Format("{0:D}", item.FixDate)</td>
                    <td>
                        @if (item.FixState == 1)
                        {
                            @:未受理
                        }
                        else if (item.FixState == 0)
                        {
                            @:正在处理
                        }
                        else
                        {
                            @:已受理
                        }
                    </td>
                    <td>
                        @if (item.FixState == 1)
                        {
                            <a href="/Qianduan/DelFix?FixID=@item.FixID" class="btn btn-light" onclick="return confirm('确定要取消上报吗')">取消上报</a>

                        }
                        else if (item.FixState == 0||item.FixState==3)
                        {
                            @:无需操作
                        }
                        else
                        {
                            <a href="/Qianduan/AddSxReason/?FixID=@item.FixID" class="btn btn-light" onclick="return confirm('确定要上诉吗')">上诉</a>
                        }
                    </td>
                </tr>
            }
        </tbody>
    </table>
    共 @Model.TotalItemCount 条，
    每页 @Model.PageSize 条，
    共 @Model.PageCount 页，
    当前第 @Model.PageNumber 页
    @Html.PagedListPager(Model, page => Url.Action("FixCenterIndex", new { page }), new PagedListRenderOptions() { LinkToFirstPageFormat = "首页", LinkToNextPageFormat = "下一页", LinkToPreviousPageFormat = "上一页", LinkToLastPageFormat = "末页", DisplayItemSliceAndTotal = false, MaximumPageNumbersToDisplay = 5 })
</div>

